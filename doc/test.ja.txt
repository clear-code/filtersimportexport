# Thunderbird Message Filter Import/Export Enhanced 改造版 検証項目

## 準備

以下のメールアカウントを用意する。

 * IMAPメールアカウント1（名前は任意）
 * IMAPメールアカウント2（名前は任意）

IMAPメールアカウント1について、以下の用意をする。

 * 以下の構成で入れ子になったフォルダを作成しておく。
   - テスト1
     - テスト2
     - テスト3
 * 振り分け先を「テスト3」にしたメッセージフィルタを作成する。

IMAPメールアカウント2について、以下の用意をする。

 * 以下の構成で入れ子になったフォルダを作成しておく。
   - テスト1
     - テスト2
     - テスト3
 * 振り分け先を「テスト1」にしたメッセージフィルタを作成する。

## 試験項目

### エクスポートの試験

 1. Thunderbirdの設定から「設定エディタ」を起動しておく。
 2. 「extensions.FiltersImportExport@mozilla.org.export.defaultFileName」の値を「%accountのメッセージフィルタ %YYYY-%MM-%DD」に設定する。
 3. IMAPメールアカウント1のメッセージフィルタをエクスポートする。
 4. ファイル名の既定値が「（アカウント名）のメッセージフィルタ （現在の年）-（現在の月）-（現在の日）」であることを確認する。

### 同名アカウントでのインポート試験

 1. IMAPメールアカウント1のメッセージフィルタをすべて消去する。
 2. エクスポートの試験でエクスポートしたメッセージフィルタを、IMAPメールアカウント1にインポートする。
 3. エクスポート完了後、Thunderbirdを再起動する。
 4. IMAPメールアカウント1のメッセージフィルタ一覧を表示し、メッセージフィルタがインポートされていることを確認する。

### 別アカウントでのインポート試験

 1. エクスポートの試験でエクスポートしたメッセージフィルタを、IMAPメールアカウント2にインポートする。
 2. エクスポート完了後、Thunderbirdを再起動する。
 3. IMAPメールアカウント2のメッセージフィルタ一覧を表示し、以下の2点を確認する。
    
    - 振り分け先が「テスト1」である元のメッセージフィルタが無くなっていること。
    - 振り分け先が「テスト3」であるメッセージフィルタがインポートされていること

### 存在しないフォルダの自動作成

 1. IMAPメールアカウント1のメッセージフィルタをすべて消去する。
 2. IMAPメールアカウント1のフォルダ「テスト1」「テスト2」「テスト3」をすべて消去する。
 3. エクスポートの試験でエクスポートしたメッセージフィルタを、IMAPメールアカウント1にインポートする。
 4. エクスポート完了後、Thunderbirdを再起動する。
 5. IMAPメールアカウント1の配下に「テスト1」「テスト3」の2つのフォルダが入れ子の状態で作成されていることを確認する。

